(this.webpackJsonpsignupfront=this.webpackJsonpsignupfront||[]).push([[0],{15:function(e,t,s){},58:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s(27),a=s.n(r),n=s(2),o=s(12),i=s.n(o),l=s(1);var j=e=>t=>{const s=i.a.get("token"),r=Object(n.useHistory)();return Object(c.useEffect)((()=>{s||(r.push("/login"),localStorage.clear("user"))}),[s,r]),s?Object(l.jsx)(e,{...t}):null};var b=j((()=>Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"This is a about page"}),Object(l.jsx)("p",{children:"This is a About Page of our website."})]})));var d=j((()=>{const[e,t]=Object(c.useState)(JSON.parse(localStorage.getItem("user"))||{});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Home Page"}),Object(l.jsx)("p",{children:"Welcome ".concat(null===e||void 0===e?void 0:e.email," Home Page of Our Website.")})]})})),u=(s(15),s(13)),h=s.n(u);const O=(e,t)=>{const s={};return e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(s.email="Invalid email format"):s.email="Email is required",t||(s.password="Password is required"),s};var p=()=>{const[e,t]=Object(c.useState)(""),[s,r]=Object(c.useState)(""),[a,o]=Object(c.useState)({}),[i,j]=Object(c.useState)(!1),b=Object(n.useHistory)();return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"form-div",children:[Object(l.jsx)("h1",{children:"Signup Form"}),Object(l.jsxs)("form",{onSubmit:c=>{c.preventDefault();const a=O(e,s);if(Object.keys(a).length>0)return void o(a);const n={email:e,password:s};j(!0),h.a.post("https://backendloginsignup.onrender.com/app/signup",n).then((e=>{console.log(e.data),alert("SignUp Successfully"),t(""),r(""),j(!1),b.push("/login")})).catch((e=>{alert("Error: "+e.message),j(!1)}))},children:[Object(l.jsx)("input",{type:"text",placeholder:"Email",value:e,required:!0,onChange:e=>t(e.target.value)}),a.email&&Object(l.jsx)("p",{style:{color:"red"},children:a.email}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"password",placeholder:"Password",value:s,required:!0,onChange:e=>r(e.target.value)}),a.password&&Object(l.jsx)("p",{style:{color:"red"},children:a.password}),Object(l.jsx)("br",{}),Object(l.jsxs)("button",{className:"submit_button",type:"submit",disabled:i,children:[i?"Loading":"Submit",i&&Object(l.jsx)("div",{className:"loader"})]})]})]})})})},m=s(29);var g=()=>{const[e,t]=Object(c.useState)(""),[s,r]=Object(c.useState)(""),[a,n]=Object(c.useState)(!1),[o,j]=Object(c.useState)({}),b=Object(m.useHistory)();Object(c.useEffect)((()=>{}),[e,s]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"form-div",children:[Object(l.jsx)("h1",{children:"Login Form"}),Object(l.jsxs)("form",{onSubmit:t=>{const c=O(e,s);Object.keys(c).length>0?j(c):(t.preventDefault(),n(!0),h.a.post("https://backendloginsignup.onrender.com/app/login",{email:e,password:s}).then((e=>{if(console.log(null===e||void 0===e?void 0:e.data),null===e||void 0===e?void 0:e.data)localStorage.setItem("user",JSON.stringify(e.data.user)),i.a.set("token",e.data.token),n(!0),alert("Login Successful"),b.push("/");else if(e.data.error){var t;alert(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error),n(!1)}})).catch((e=>{alert("Error"),n(!1)})))},children:[Object(l.jsx)("input",{type:"text",placeholder:"Email",required:!0,onChange:e=>t(e.target.value)}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",placeholder:"Password",required:!0,onChange:e=>r(e.target.value)}),Object(l.jsx)("br",{}),Object(l.jsxs)("button",{className:"submit_button",type:"submit",disabled:a,children:[a?"Loading":"Submit",a&&Object(l.jsx)("div",{className:"loader"})]})]})]})})})},x=s(8);var v=()=>Object(l.jsxs)(x.a,{children:[Object(l.jsxs)("div",{className:"topnav",children:[Object(l.jsx)("a",{href:"/",children:Object(l.jsx)(x.b,{to:"/",children:"Home"})}),Object(l.jsx)("a",{href:"/login",children:Object(l.jsx)(x.b,{to:"/login",children:"Login"})}),Object(l.jsx)("a",{href:"/signup",children:Object(l.jsx)(x.b,{to:"/signup",children:"Signup"})}),Object(l.jsx)("a",{href:"/about",children:Object(l.jsx)(x.b,{to:"/about",children:"About"})})]}),Object(l.jsxs)(n.Switch,{children:[Object(l.jsx)(n.Route,{path:"/login",component:g}),Object(l.jsx)(n.Route,{path:"/signup",component:p}),Object(l.jsx)(n.Route,{path:"/about",component:b}),Object(l.jsx)(n.Route,{path:"/",component:d})]})]});a.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.f24dffe3.chunk.js.map